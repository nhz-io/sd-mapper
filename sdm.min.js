!function t(e,r,n){function i(s,u){if(!r[s]){if(!e[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=r[s]={exports:{}};e[s][0].call(a.exports,function(t){var r=e[s][1][t];return i(r?r:t)},a,a.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e){var r;e.exports=r=function(){function t(t){this.parent=null,this.root=this,this.items=[],this.keys=[],this.count={},t&&(this.parent=t,this.root=this.parent.root)}return t.prototype.ref=function(t){var e,r;if(null!=t||t instanceof Object){e=0;for(r in t)if(++e>1)return;if("$"===r)return t.$}},t.prototype.has=function(t){var e,r;return-1!==(e=this.items.indexOf(t))?this.keys[e]:null!=(r=this.parent)?r.has(t):void 0},t.prototype.get=function(t){var e,r;return-1!==(e=this.keys.indexOf(t))?this.items[e]:null!=(r=this.parent)?r.get(t):void 0},t.prototype.put=function(t,e){return this.keys.push(e),this.items.push(t),this.count[e]=1,[e,1]},t.prototype.add=function(t){var e;return(e=this.has(t))?this.count[e]++:(e=Math.random().toString(36).substr(2),this.count[e]=1,this.keys.push(e),this.items.push(t)),[e,this.count[e]]},t.prototype.remove=function(t){var e,r,n;return(n=this.has(t))?(e=--this.count[n],0===e&&(r=this.keys.indexOf(n),this.keys.splice(r,1),this.items.splice(r,1),delete this.count[n]),[n,e]):void 0},t}()},{}],2:[function(t,e){{var r,n,i=t("extends__");({}).hasOwnProperty}r=t("./base"),e.exports=n=function(t){function e(t,r){e.__super__.constructor.call(this,t),arguments.length>1&&(this.populate(r),this.resolve())}return i(e,t),e.prototype.populate=function(t){var e,r,n,i,o,s,u,f,a,c;if(null==t)return t;if("string"==(f=typeof t)||"boolean"===f||"number"===f)return t;if(t instanceof RegExp)return t;if(t instanceof Array){for(a=[],r=0,o=t.length;o>r;r++)e=t[r],a.push(this.populate(e));return a}if(!(t instanceof Object))return t;if(!(u=this.ref(t))){a={};for(i in t)e=t[i],a[i]=this.populate(e);return a}if(!(u instanceof Array))return t;if(i=u[0],c=u[1],c instanceof Array){for(a=[],this.put(a,i),n=0,s=c.length;s>n;n++)e=c[n],a.push(this.populate(e));return a}if(c instanceof Object){a={},this.put(a,i);for(i in c)e=c[i],a[i]=this.populate(e);return a}},e.prototype.resolve=function(t){var e,r,n,i,o,s,u;switch(0===arguments.length&&(t=this.items),!1){case!(null==t):return t;case"string"!=(u=typeof t)&&"boolean"!==u&&"number"!==u:return t;case!(t instanceof RegExp):return t;case!(t instanceof Array):for(e=n=0,o=t.length;o>n;e=++n)r=t[e],t[e]=this.resolve(r);return t;case!(t instanceof Object):if((s=this.ref(t))&&"string"==typeof s)return r=this.get(s),this.get(s)||t;for(i in t)r=t[i],t[i]=this.resolve(r);return t}return t},e}(r)},{"./base":1,extends__:7}],3:[function(t,e){{var r,n,i=t("extends__");({}).hasOwnProperty}r=t("./base"),e.exports=n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(r)},{"./base":1,extends__:7}],4:[function(t,e){var r,n;r=t("./context/deserializer"),e.exports=n=function(){function t(t){this.context=new r(t)}return t.Context=r,t.prototype.deserialize=function(t,e){var r,n,i,o,s,u,f;if(e||(e=this.context),null==t)return t;if("boolean"==(u=typeof t)||"number"===u||"string"===u||"function"===u)return t;if(t instanceof RegExp)return t;if(t instanceof Array){for(f=[],r=0,o=t.length;o>r;r++)n=t[r],f.push(this.deserialize(t,e));return f}if(t instanceof Object){if(s=e.ref(t))return i=s instanceof Array?s[0]:s,e.get(i)||t;f={};for(i in t)n=t[i],f[i]=this.deserialize(n,e);return f}return t},t}()},{"./context/deserializer":2}],5:[function(t){var e,r,n;n=t("./serializer"),r=t("./deserializer"),e=t("./context/base"),window.SDM={Serializer:n,Deserializer:r,BaseContext:e,SerializerContext:n.Context,DeserializerContext:r.Context,serializer:function(t){var e;return e=new n(t),function(r){return t=new n.Context(e.context),r=e.serialize(r,t),e.compact(r,t)}},deserializer:function(t){var e;return e=new r(t),function(n){return t=new r.Context(e.context,n),e.deserialize(n,t)}}}},{"./context/base":1,"./deserializer":4,"./serializer":6}],6:[function(t,e){var r,n;r=t("./context/serializer"),e.exports=n=function(){function t(t){this.context=new r(t)}return t.Context=r,t.prototype.serialize=function(t,e){var r,n,i,o,s,u,f,a,c;if(null==t)return t;if("function"==(c=typeof t))return void 0;if("string"===c||"boolean"===c||"number"===c)return t;if(t instanceof RegExp)return t;if(f=e.add(t),s=f[0],n=f[1],n>1)return{$:s};if(t instanceof Array){for(a=[],o=0,u=t.length;u>o;o++)i=t[o],i instanceof Function||a.push(this.serialize(i,e));return{$:[s,a]}}if(t instanceof Object){a={};for(r in t)i=t[r],i instanceof Function||(a[r]=this.serialize(i,e));return{$:[s,a]}}return void 0},t.prototype.compact=function(t,e){var r,n,i,o,s,u,f,a,c,p;if(null==t)return t;if("function"==(c=typeof t))return void 0;if("string"===c||"boolean"===c||"number"===c)return t;if(t instanceof RegExp)return t;if(!(f=e.ref(t)))return t;if(!(f instanceof Array))return t;switch(s=f[0],p=f[1],r=e.count[s]||1,a=1===r?p:t,!1){case"string"!=typeof p:return a;case!(p instanceof Array):for(n=o=0,u=p.length;u>o;n=++o)i=p[n],p[n]=this.compact(i,e);break;case!(p instanceof Object):for(s in p)i=p[s],p[s]=this.compact(i,e)}return a},t}()},{"./context/serializer":3}],7:[function(t,e){var r=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.exports=function(t,e){return r(t,e)}},{}]},{},[5]);